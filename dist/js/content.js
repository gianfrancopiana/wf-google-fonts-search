!function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=5)}([function(t,e,s){var i=s(1);"string"==typeof i&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};s(3)(i,o);i.locals&&(t.exports=i.locals)},function(t,e,s){(t.exports=s(2)(!1)).push([t.i,'.gf-combobox-wrap{position:relative}.gf-wrap-shadow{display:none;position:absolute;top:0;left:0;z-index:600;pointer-events:none;width:100%;height:229px;border-radius:3px;-webkit-box-shadow:inset 0 0 0 1px rgba(66,83,255,.85),inset 0 5px 3px -2px rgba(31,31,31,.05),0 0 4px 1px rgba(66,83,255,0);box-shadow:inset 0 0 0 1px rgba(66,83,255,.85),inset 0 5px 3px -2px rgba(31,31,31,.05),0 0 4px 1px rgba(66,83,255,0)}form .field input[type=text].gf-search-input{padding-left:32px}form .field input[type=text].gf-search-input+span:before{content:"";display:none;position:absolute;z-index:505;top:39px;right:2%;bottom:0;left:2%;width:96%;height:1px;background-color:rgba(31,31,31,.12)}form .field input[type=text].gf-search-input:focus+span:before{display:block}form .field input[type=text].gf-search-input:focus{border-bottom-right-radius:0;border-bottom-left-radius:0;border:none;-webkit-box-shadow:none;box-shadow:none}form .field ul.gf-listbox{display:none;position:absolute;overflow-x:hidden;overflow-y:overlay;margin-top:0;padding-top:7px;padding-left:0;top:39px;width:100%;max-height:190px;background:#fff;z-index:500}form .field ul.gf-listbox::-webkit-scrollbar{width:0;background:transparent}.gf-listbox__item{list-style:none;padding-left:30px;height:40px;line-height:40px;cursor:default}.gf-listbox__item.is--focused,.gf-listbox__item .is--focused,.gf-listbox__item:hover{background-color:#f0f0f0}.gf-listbox__item.is--visible{display:block}.gf-listbox__item.is--hidden{display:none}.gf-listbox__item.gf-listbox__message{pointer-events:none;display:none;padding-left:0;height:42px;text-align:center;font-size:14px}.gf-search-icon{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:24px;width:24px;left:6px;top:8px;pointer-events:none}.gf-search-icon svg{display:block;-webkit-transform:translate(0);transform:translate(0);position:static;width:16px;height:16px;left:14px;color:#d9d9d9}.humane.humane-jackedup-error.gf-alert{opacity:1}',""])},function(t,e,s){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var s=function(t,e){var s=t[1]||"",i=t[3];if(!i)return s;if(e&&"function"==typeof btoa){var o=(r=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),n=i.sources.map(function(t){return"/*# sourceURL=".concat(i.sourceRoot).concat(t," */")});return[s].concat(n).concat([o]).join("\n")}var r,a,l;return[s].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(s,"}"):s}).join("")},e.i=function(t,s){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var n=this[o][0];null!=n&&(i[n]=!0)}for(var r=0;r<t.length;r++){var a=t[r];null!=a[0]&&i[a[0]]||(s&&!a[2]?a[2]=s:s&&(a[2]="(".concat(a[2],") and (").concat(s,")")),e.push(a))}},e}},function(t,e,s){"use strict";var i,o={},n=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var t={};return function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}t[e]=s}return t[e]}}();function a(t,e){for(var s=[],i={},o=0;o<t.length;o++){var n=t[o],r=e.base?n[0]+e.base:n[0],a={css:n[1],media:n[2],sourceMap:n[3]};i[r]?i[r].parts.push(a):s.push(i[r]={id:r,parts:[a]})}return s}function l(t,e){for(var s=0;s<t.length;s++){var i=t[s],n=o[i.id],r=0;if(n){for(n.refs++;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(b(i.parts[r],e))}else{for(var a=[];r<i.parts.length;r++)a.push(b(i.parts[r],e));o[i.id]={id:i.id,refs:1,parts:a}}}}function c(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var i=s.nc;i&&(t.attributes.nonce=i)}if(Object.keys(t.attributes).forEach(function(s){e.setAttribute(s,t.attributes[s])}),"function"==typeof t.insert)t.insert(e);else{var o=r(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var d,h=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function u(t,e,s,i){var o=s?"":i.css;if(t.styleSheet)t.styleSheet.cssText=h(e,o);else{var n=document.createTextNode(o),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(n,r[e]):t.appendChild(n)}}var f=null,p=0;function b(t,e){var s,i,o;if(e.singleton){var n=p++;s=f||(f=c(e)),i=u.bind(null,s,n,!1),o=u.bind(null,s,n,!0)}else s=c(e),i=function(t,e,s){var i=s.css,o=s.media,n=s.sourceMap;if(o&&t.setAttribute("media",o),n&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,s,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(s)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=n());var s=a(t,e);return l(s,e),function(t){for(var i=[],n=0;n<s.length;n++){var r=s[n],c=o[r.id];c&&(c.refs--,i.push(c))}t&&l(a(t,e),e);for(var d=0;d<i.length;d++){var h=i[d];if(0===h.refs){for(var u=0;u<h.parts.length;u++)h.parts[u]();delete o[h.id]}}}}},,function(t,e,s){"use strict";s.r(e);const i=(t,e,s)=>t.addEventListener(e,s),o=t=>(t.dispatchEvent(new PointerEvent("pointerdown",{bubbles:!0})),t.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),t.dispatchEvent(new PointerEvent("pointerup",{bubbles:!0})),t.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),t.dispatchEvent(new MouseEvent("mouseout",{bubbles:!0})),t.dispatchEvent(new MouseEvent("click",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0})),!0);s(0);const n=(t,...e)=>{let s="";for(const[i,o]of e.entries()){const e=t[i];let n=o;Array.isArray(o)&&(n=o.join("")),s+=e,s+=n}return(t=>{const e=document.createElement("template");let s=t;return s=s.trim(),e.innerHTML=s,e.content.firstChild})(s+=t[t.length-1])},r=()=>n`
    <div class="gf-combobox-wrap">

      <div role="combobox"
           aria-expanded="false"
           aria-owns="gf-listbox"
           aria-haspopup="listbox"
           id="gf-combobox">

        <div class="gf-search-icon">
            <svg data-icon="search-medium" aria-hidden="true" focusable="false" width="15" height="15" viewBox="0 0 15 15">
                <path fill="#333" d="M10.03 8.97l-.16.16A4.95 4.95 0 0 0 11 6 5 5 0 0 0 1 6a5 5 0 0 0 5 5c1.19 0 2.27-.434 3.13-1.13l-.16.16 3.5 3.5 1.06-1.06-3.5-3.5zM6 9.5C4.07 9.5 2.5 7.93 2.5 6S4.07 2.5 6 2.5 9.5 4.07 9.5 6 7.93 9.5 6 9.5z"></path>
            </svg>
        </div>

        <input type="text"
               class="gf-search-input"
               placeholder="Type something"
               autocapitalize="off"
               autocomplete="off"
               autocorrect="off"
               spellcheck="false"
               aria-autocomplete="list"
               aria-controls="gf-listbox"
               aria-labelledby="gf-search-label"
               id="gf-input">

        <span></span>

        <div class="gf-dropdown"
             id="gf-listbox-arrow"
             tabindex="-1"
             role="button"
             aria-label="Show Google Fonts options">
        </div>

      </div>

      <ul aria-labelledby="gf-search-label"
          role="listbox"
          id="gf-listbox"
          class="gf-listbox">
          <li class="gf-listbox__item gf-listbox__message" id="gf-listbox__message">No fonts found</li>
      </ul>

      <div id="gf-wrap-shadow" class="gf-wrap-shadow"></div>

    </div>
  `,a=(t="",e="")=>n`
    <li class="gf-listbox__item is--visible" role="option" id="gf-r-${e}">${t}</li>
  `,l=(t="Error.")=>n`
    <div class="humane humane-jackedup-error gf-alert">${t}</div>
  `;class c{constructor(){this.$observerTarget=document.querySelector("div.main-content div.loaded"),this.$oldSelectWrap=document.querySelector(".section.googlefonts .select-wrap"),this.$oldSelect=this.$oldSelectWrap.querySelector("select"),this.$container=document.querySelector(".googlefonts .field.row").firstChild,this.$comboboxLabel=this.$container.firstChild,[this.$addBtnText]=[document.querySelector(".variants-wrapper .button.success").childNodes[1]],this.fragment=document.createDocumentFragment(),this.fragment.appendChild(r()),this.$input=this.fragment.getElementById("gf-input"),this.$combobox=this.fragment.getElementById("gf-combobox"),this.$listbox=this.fragment.getElementById("gf-listbox"),this.$shadow=this.fragment.getElementById("gf-wrap-shadow"),this.$listboxMessage=this.fragment.getElementById("gf-listbox__message"),this.$oldSelectWrap.style.display="none",this.$comboboxLabel.textContent="Choose font from list:",this.$comboboxLabel.id="gf-search-label"}observe(t){this.observer=new MutationObserver(e=>{for(const s of e)"attributes"===s.type&&"class"===s.attributeName&&t()}),this.observer.observe(this.$observerTarget,{attributes:!0})}disconnectObserver(){this.observer.disconnect()}setFontList(){return this.fontList=[...this.$oldSelect.children],this.fontList.splice(0,1),this.fontList}static getAddedFonts(){return document.querySelectorAll(".name.ng-binding")}render(t){for(const[e,s]of t.entries()){const t=a(s,e);this.$listbox.appendChild(t)}this.$container.insertBefore(this.fragment,this.$container.children[1])}bindSearch(t){i(this.$input,"input",({target:e})=>{const s=e.value;t(s)})}bindFocus(t){i(this.$input,"focusin",({type:e,target:s})=>{t(e,s)}),i(this.$input,"focusout",({type:e})=>{t(e)})}bindSetActiveItem(t){i(this.$input,"keydown",e=>{t(e)})}showSearchMessage(t=!1){this.$listboxMessage.style.display=t?"block":"none"}showListbox(t=!0){t?(this.$combobox.setAttribute("aria-expanded","true"),this.$listbox.style.display="block",this.$shadow.style.display="block",this.updateShadowHeight()):(this.$combobox.setAttribute("aria-expanded","false"),this.$listbox.scrollTop=0,this.$listbox.style.display="none",this.$shadow.style.display="none")}updateShadowHeight(){this.$shadow.style.height=`${this.$input.offsetHeight+this.$listbox.offsetHeight}px`}resetListbox(){document.activeElement.blur(),this.$input.value="",this.loopListbox(t=>{"gf-listbox__message"!==t.id&&(t.classList.remove("is--hidden"),t.classList.add("is--visible"))}),this.$input.removeAttribute("aria-activedescendant"),this.showSearchMessage(!1)}changeButtonLabel(t="font"){this.$addBtnText.textContent=`Add ${t}`}bindSelectFont(t){i(this.$listbox,"mousedown",({target:e})=>{if("LI"===e.tagName){const s=e.id.slice(5),i=e.textContent;t(s,i)}})}selectItem(t){const e=this.fontList[t];e.selected=!0,o(e)}getVisibleItems(){return this.$listbox.getElementsByClassName("is--visible")}setItemFocus(t,e,s,i){(t||e)&&(-1===s?(this.$input.value=i,this.addRemoveFocus(t||e)):(t&&this.addRemoveFocus(t),e&&this.addRemoveFocus(e,"add")))}addRemoveFocus(t,e="remove"){"add"===e?(this.$input.setAttribute("aria-activedescendant",`${t.id}`),t.classList.add("is--focused"),t.setAttribute("aria-selected","true"),t.scrollIntoView(!1),this.$input.value=t.textContent):"remove"===e&&(t.classList.remove("is--focused"),t.setAttribute("aria-selected","false"))}loopListbox(t){for(const e of this.$listbox.children)t(e)}static displayAlert(t){const e=document.body.appendChild(l(t));setTimeout(()=>{e.style.top="100px",setTimeout(()=>{e.style.top="0",setTimeout(()=>{e.remove()},600)},3e3)},50)}}class d{constructor(){this.fontLabels=[],this.addedFontsLabels=[]}setFontLabels(t){for(const e of t)this.fontLabels.push(e.label);return this.fontLabels.length}getFontLabels(){return this.fontLabels}setAddedFontsList(t){this.addedFontsLabels=[];for(const e of t)this.addedFontsLabels.push(e.firstChild.textContent);return this.addedFontsLabels}}class h{constructor(t,e){this.model=t,this.view=e,e.observe(this.setView.bind(this)),e.bindSelectFont(this.selectFont.bind(this)),e.bindSearch(this.search.bind(this)),e.bindSetActiveItem(this.setActiveItem.bind(this)),e.bindFocus(this.focus.bind(this))}setView(){this.view.disconnectObserver();const t=this.view.setFontList();this.model.setFontLabels(t),this.view.render(this.model.getFontLabels()),this.resetFocus()}search(t){this.view.loopListbox(e=>{if("gf-listbox__message"!==e.id){const s=e.textContent.toUpperCase().indexOf(t.toUpperCase())>-1;this.constructor.updateListbox(s,e)}}),this.resetFocus(),this.view.showSearchMessage(0===this.resultsCount),this.view.updateShadowHeight(),this.lastQuery=t}focus(t,e){if("focusin"===t){if(this.view.showListbox(),""!==e.value){const t=e.value.toUpperCase();this.search(t)}}else"focusout"===t&&(this.view.showListbox(!1),this.resetFocus())}setActiveItem(t){const e=this.view.getVisibleItems(),s=e[this.activeIndex];this.checkKey(t,e),this.activeItem=e[this.activeIndex],this.view.setItemFocus(s,this.activeItem,this.activeIndex,this.lastQuery)}checkKey(t){switch(t.code){case"Escape":this.view.showListbox(!1),this.view.resetListbox(),this.resetFocus();break;case"ArrowUp":-1===this.activeIndex?this.activeIndex=this.resultsCount-1:this.activeIndex-=1,t.preventDefault();break;case"ArrowDown":-1===this.activeIndex?this.activeIndex=0:this.activeIndex>=this.resultsCount-1?this.activeIndex=-1:this.activeIndex+=1,t.preventDefault();break;case"NumpadEnter":case"Enter":if(this.activeItem){const t=this.activeItem.id.slice(5),e=this.activeItem.textContent;this.selectFont(t,e),this.view.showListbox(!1),this.view.resetListbox(),this.resetFocus()}t.preventDefault()}}selectFont(t,e){-1===this.getAddedFonts().indexOf(e)?(this.view.selectItem(t),this.view.changeButtonLabel(e),this.view.resetListbox(),this.resetFocus()):this.view.constructor.displayAlert("This font is already added. Delete it, and try again.")}getAddedFonts(){const t=this.view.constructor.getAddedFonts();return this.model.setAddedFontsList(t)}resetFocus(){this.activeIndex=-1,this.resultsCount=this.view.getVisibleItems().length,this.view.loopListbox(t=>{"gf-listbox__message"!==t.id&&(t.classList.remove("is--focused"),t.removeAttribute("aria-selected"))}),this.lastQuery=""}static updateListbox(t,e){const s=e;t?(s.classList.add("is--visible"),s.classList.remove("is--hidden")):(s.classList.remove("is--visible"),s.classList.add("is--hidden"))}}{class t{constructor(){const t=new d,e=new c;this.controller=new h(t,e)}init(){this.controller.view.observe()}}const e=({url:e="invalid"})=>{if((t=>{return"fonts"===t.slice(-5)})(e)){(new t).init()}};chrome.runtime.onMessage.addListener(e),e({url:window.location.href})}}]);